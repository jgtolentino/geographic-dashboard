(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{73361:function(e,s,a){Promise.resolve().then(a.bind(a,85901))},85901:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return si}});var t=a(57437),l=a(2265),r=a(61994),n=a(53335);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,n.m6)((0,r.W)(s))}var c=a(37053),d=a(90535);let o=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=l.forwardRef((e,s)=>{let{className:a,variant:l,size:r,asChild:n=!1,...d}=e,x=n?c.g7:"button";return(0,t.jsx)(x,{className:i(o({variant:l,size:r,className:a})),ref:s,...d})});x.displayName="Button";let m=(0,d.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:i(m({variant:a}),s),...l})}var u=a(70525),j=a(44794),g=a(95805),f=a(49663),v=a(96215),p=a(92451),b=a(14938),N=a(64972);let y=[{id:"transaction-trends",name:"Transaction Trends",route:"/transaction-trends"},{id:"product-mix",name:"Product Mix & SKU Info",route:"/product-mix"},{id:"consumer-behavior",name:"Consumer Behavior & Preference Signals",route:"/consumer-behavior"},{id:"consumer-profiling",name:"Consumer Profiling",route:"/consumer-profiling"}],w={"transaction-trends":u.Z,"product-mix":j.Z,"consumer-behavior":g.Z,"consumer-profiling":f.Z};function k(e){let{className:s,onModuleChange:a,currentModule:r="transaction-trends"}=e,[n,c]=(0,l.useState)(!1);return(0,t.jsx)("aside",{className:i("h-full bg-card border-r border-border transition-all duration-300",n?"w-16":"w-64",s),children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"p-4 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:i("flex items-center space-x-3 transition-opacity",n&&"opacity-0"),children:[(0,t.jsx)(v.Z,{className:"w-8 h-8 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Scout Dashboard"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Real-time Analytics"})]})]}),(0,t.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>c(!n),className:"ml-auto",children:(0,t.jsx)(p.Z,{className:i("h-4 w-4 transition-transform",n&&"rotate-180")})})]})}),(0,t.jsxs)("nav",{className:"flex-1 p-2 space-y-1",children:[(0,t.jsxs)(x,{variant:"home"===r?"secondary":"ghost",className:i("w-full justify-start",n&&"justify-center"),onClick:()=>null==a?void 0:a("home"),children:[(0,t.jsx)(b.Z,{className:"h-4 w-4"}),!n&&(0,t.jsx)("span",{className:"ml-3",children:"Overview"})]}),y.map(e=>{let s=w[e.id]||v.Z,l=r===e.id;return(0,t.jsxs)(x,{variant:l?"secondary":"ghost",className:i("w-full justify-start",n&&"justify-center"),onClick:()=>null==a?void 0:a(e.id),children:[(0,t.jsx)(s,{className:"h-4 w-4"}),!n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"ml-3",children:e.name}),"transaction-trends"===e.id&&(0,t.jsx)(h,{variant:"secondary",className:"ml-auto bg-emerald-100 text-emerald-800",children:"Live"})]})]},e.id)})]}),(0,t.jsx)("div",{className:i("p-4 border-t border-border",n&&"p-2"),children:(0,t.jsxs)(x,{variant:"default",className:i("w-full bg-gradient-to-r from-azure-blue to-azure-blueDark",n&&"px-0"),children:[(0,t.jsx)(N.Z,{className:"h-4 w-4"}),!n&&(0,t.jsx)("span",{className:"ml-2",children:"AI Assistant"})]})})]})})}var S=a(94766),C=a(82431),R=a(68919),D=a(92735),A=a(98728),B=a(92369);function T(e){let{title:s="Scout Platform v5",lastUpdated:a=new Date}=e;return(0,t.jsx)("header",{className:"h-16 border-b bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:(0,t.jsxs)("div",{className:"h-full px-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-foreground",children:s}),(0,t.jsx)(h,{variant:"outline",className:"text-azure-blue border-azure-blue/20",children:"Real-time Data"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Last updated: ",a.toLocaleTimeString()]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(x,{variant:"ghost",size:"icon",className:"relative",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",children:[(0,t.jsx)(C.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",children:[(0,t.jsx)(R.Z,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,t.jsxs)(x,{variant:"default",size:"sm",className:"btn-primary-azure",children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,t.jsx)("div",{className:"h-8 w-px bg-border mx-2"}),(0,t.jsx)(x,{variant:"ghost",size:"icon",children:(0,t.jsx)(A.Z,{className:"h-4 w-4"})}),(0,t.jsx)(x,{variant:"ghost",size:"icon",className:"rounded-full",children:(0,t.jsx)(B.Z,{className:"h-4 w-4"})})]})]})})}var z=a(90740),Z=a(31047),_=a(83774),M=a(32489),P=a(16275);function I(e){let{filters:s,onFilterChange:a,availableFilters:r={}}=e,[n,i]=(0,l.useState)(!1),c=Object.values(s).filter(e=>void 0!==e&&"all"!==e&&(!Array.isArray(e)||e.length>0)).length,d=e=>{let t={...s};delete t[e],a(t)};return(0,t.jsxs)("div",{className:"bg-card border-b border-border p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(x,{variant:"outline",size:"sm",onClick:()=>i(!n),className:"space-x-2",children:[(0,t.jsx)(z.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Filters"}),c>0&&(0,t.jsx)(h,{variant:"secondary",className:"ml-1",children:c})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(x,{variant:"ghost",size:"sm",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-1"}),"Time"]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 mr-1"}),"Location"]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),"Category"]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-1"}),"Demographics"]})]})]}),c>0&&(0,t.jsx)(x,{variant:"ghost",size:"sm",onClick:()=>{a({})},className:"text-muted-foreground",children:"Clear all"})]}),c>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.timeOfDay&&s.timeOfDay.length>0&&(0,t.jsxs)(h,{variant:"secondary",className:"px-3 py-1",children:[(0,t.jsx)(Z.Z,{className:"h-3 w-3 mr-1"}),"Time: ",Array.isArray(s.timeOfDay)?s.timeOfDay.join(", "):s.timeOfDay,(0,t.jsx)("button",{onClick:()=>d("timeOfDay"),className:"ml-2 hover:text-destructive",children:(0,t.jsx)(M.Z,{className:"h-3 w-3"})})]}),s.barangay&&s.barangay.length>0&&(0,t.jsxs)(h,{variant:"secondary",className:"px-3 py-1",children:[(0,t.jsx)(_.Z,{className:"h-3 w-3 mr-1"}),"Barangay: ",Array.isArray(s.barangay)?s.barangay.join(", "):s.barangay,(0,t.jsx)("button",{onClick:()=>d("barangay"),className:"ml-2 hover:text-destructive",children:(0,t.jsx)(M.Z,{className:"h-3 w-3"})})]}),s.category&&"all"!==s.category&&(0,t.jsxs)(h,{variant:"secondary",className:"px-3 py-1",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 mr-1"}),"Category: ",Array.isArray(s.category)?s.category.join(", "):s.category,(0,t.jsx)("button",{onClick:()=>d("category"),className:"ml-2 hover:text-destructive",children:(0,t.jsx)(M.Z,{className:"h-3 w-3"})})]}),s.weekVsWeekend&&"all"!==s.weekVsWeekend&&(0,t.jsxs)(h,{variant:"secondary",className:"px-3 py-1",children:[(0,t.jsx)(Z.Z,{className:"h-3 w-3 mr-1"}),"week"===s.weekVsWeekend?"Weekdays":"Weekends",(0,t.jsx)("button",{onClick:()=>d("weekVsWeekend"),className:"ml-2 hover:text-destructive",children:(0,t.jsx)(M.Z,{className:"h-3 w-3"})})]}),s.basketSize&&(Array.isArray(s.basketSize)?s.basketSize.length>0:s.basketSize)&&(0,t.jsxs)(h,{variant:"secondary",className:"px-3 py-1",children:[(0,t.jsx)(P.Z,{className:"h-3 w-3 mr-1"}),"Basket: ",Array.isArray(s.basketSize)?s.basketSize.join(", "):s.basketSize," items",(0,t.jsx)("button",{onClick:()=>d("basketSize"),className:"ml-2 hover:text-destructive",children:(0,t.jsx)(M.Z,{className:"h-3 w-3"})})]})]}),n&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg border border-border",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Advanced filters panel..."})})})]})}let K=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});K.displayName="Card";let L=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("flex flex-col space-y-1.5 p-6",a),...l})});L.displayName="CardHeader";let q=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h3",{ref:s,className:i("text-2xl font-semibold leading-none tracking-tight",a),...l})});q.displayName="CardTitle";let V=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("p",{ref:s,className:i("text-sm text-muted-foreground",a),...l})});V.displayName="CardDescription";let E=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("p-6 pt-0",a),...l})});E.displayName="CardContent",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter";var O=a(49707);let F=O.fC,H=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(O.aV,{ref:s,className:i("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});H.displayName=O.aV.displayName;let W=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(O.xz,{ref:s,className:i("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});W.displayName=O.xz.displayName;let $=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(O.VY,{ref:s,className:i("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});$.displayName=O.VY.displayName;let G=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsx)("div",{ref:s,className:"overflow-auto ".concat(a),...r,children:l})});G.displayName="ScrollArea";var U=a(11),J=a(49322),Y=a(82023),Q=a(25846),X=a(10407);function ee(e){let{isOpen:s,onClose:r,context:n}=e,[i,c]=(0,l.useState)([]),[d,o]=(0,l.useState)([]),[m,j]=(0,l.useState)(!1),[g,f]=(0,l.useState)("insights"),[v,p]=(0,l.useState)([]),[b,N]=(0,l.useState)(""),[y,w]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s&&k()},[s,n]);let k=async()=>{j(!0);try{let{fetchInsights:e}=await a.e(795).then(a.bind(a,89795)),s=await e({filters:null==n?void 0:n.filters,context:{activeModule:null==n?void 0:n.activeModule,visibleData:null==n?void 0:n.visibleData},type:"general"});c(s.insights.insights||[]),o(s.insights.recommendations||[])}catch(e){console.error("Failed to fetch insights:",e)}finally{j(!1)}},S=async()=>{if(b.trim()){N(""),p(e=>[...e,{role:"user",content:b}]),w(!0);try{let{sendChatMessage:e}=await a.e(498).then(a.bind(a,57498)),s=await e([...v,{role:"user",content:b}],{filters:null==n?void 0:n.filters,activeModule:null==n?void 0:n.activeModule,visibleData:null==n?void 0:n.visibleData});p(e=>[...e,{role:"assistant",content:s}])}catch(e){console.error("Chat error:",e),p(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error processing your request."}])}finally{w(!1)}}},R=e=>{switch(e){case"revenue":return(0,t.jsx)(u.Z,{className:"w-4 h-4"});case"customer":return(0,t.jsx)(U.Z,{className:"w-4 h-4"});case"product":return(0,t.jsx)(J.Z,{className:"w-4 h-4"});case"trend":return(0,t.jsx)(Y.Z,{className:"w-4 h-4"});default:return(0,t.jsx)(Q.Z,{className:"w-4 h-4"})}},D=e=>{switch(e){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}};return(0,t.jsx)("div",{className:"fixed right-0 top-0 h-full w-96 bg-background/95 backdrop-blur-lg shadow-xl transform transition-transform duration-300 ".concat(s?"translate-x-0":"translate-x-full"," z-50"),children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"w-5 h-5 text-primary"}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"AI Assistant"})]}),(0,t.jsx)(x,{variant:"ghost",size:"icon",onClick:r,children:(0,t.jsx)(M.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)(F,{value:g,onValueChange:f,className:"flex-1 flex flex-col",children:[(0,t.jsxs)(H,{className:"m-4",children:[(0,t.jsx)(W,{value:"insights",children:"Insights"}),(0,t.jsx)(W,{value:"recommendations",children:"Actions"}),(0,t.jsx)(W,{value:"chat",children:"Chat"})]}),(0,t.jsxs)($,{value:"insights",className:"flex-1 p-4 pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium",children:"Key Insights"}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",onClick:k,disabled:m,children:[(0,t.jsx)(C.Z,{className:"w-3 h-3 mr-1 ".concat(m?"animate-spin":"")}),"Refresh"]})]}),(0,t.jsx)(G,{className:"h-[calc(100vh-240px)]",children:m?(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsx)(K,{className:"animate-pulse",children:(0,t.jsx)(E,{className:"h-20"})},e))}):(0,t.jsx)("div",{className:"space-y-3",children:i.map((e,s)=>(0,t.jsx)(K,{className:"glass-panel",children:(0,t.jsx)(E,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:R(e.type)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm",children:e.content}),(0,t.jsxs)(h,{variant:D(e.priority),className:"mt-2",children:[e.priority," priority"]})]})]})})},s))})})]}),(0,t.jsxs)($,{value:"recommendations",className:"flex-1 p-4 pt-0",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-4",children:"Recommended Actions"}),(0,t.jsx)(G,{className:"h-[calc(100vh-240px)]",children:(0,t.jsx)("div",{className:"space-y-3",children:d.map((e,s)=>(0,t.jsx)(K,{className:"glass-panel",children:(0,t.jsxs)(E,{className:"p-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:e.action}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(h,{variant:"outline",children:["Impact: ",e.impact]}),(0,t.jsxs)(h,{variant:"outline",children:["Effort: ",e.effort]})]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",className:"w-full mt-3",children:["View Details",(0,t.jsx)(X.Z,{className:"w-3 h-3 ml-1"})]})]})},s))})})]}),(0,t.jsxs)($,{value:"chat",className:"flex-1 flex flex-col p-4 pt-0",children:[(0,t.jsx)(G,{className:"flex-1 mb-4 h-[calc(100vh-320px)]",children:(0,t.jsxs)("div",{className:"space-y-4",children:[0===v.length?(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,t.jsx)(U.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"Ask me about your data!"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"I can help analyze trends, explain metrics, and suggest improvements."})]}):v.map((e,s)=>(0,t.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,t.jsx)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.role?"bg-primary text-primary-foreground":"bg-muted"),children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})})},s)),y&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"bg-muted rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-current rounded-full animate-bounce"}),(0,t.jsx)("span",{className:"w-2 h-2 bg-current rounded-full animate-bounce delay-100"}),(0,t.jsx)("span",{className:"w-2 h-2 bg-current rounded-full animate-bounce delay-200"})]})})})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:b,onChange:e=>N(e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),placeholder:"Ask about your data...",className:"flex-1 px-3 py-2 text-sm rounded-md border bg-background",disabled:y}),(0,t.jsx)(x,{size:"sm",onClick:S,disabled:y||!b.trim(),children:"Send"})]})]})]})]})})}var es=a(47625),ea=a(21156),et=a(56940),el=a(97059),er=a(62994),en=a(8147),ei=a(22190),ec=a(54061),ed=a(77031),eo=a(31699),ex=a(95252),em=a(91723);function eh(e){let{data:s,title:a="Box Plot",height:r=300}=e,n=(0,l.useRef)(null);return(0,l.useEffect)(()=>{var e;if(!n.current||!s||0===s.length)return;let a=n.current,t=a.getContext("2d");if(!t)return;let l=a.getBoundingClientRect().width||(null===(e=a.parentElement)||void 0===e?void 0:e.clientWidth)||800,i=window.devicePixelRatio||1;a.width=l*i,a.height=r*i,a.style.width="".concat(l,"px"),a.style.height="".concat(r,"px"),t.scale(i,i),t.clearRect(0,0,l,r);let c=(l-80)/s.length,d=s.flatMap(e=>[e.min,e.max,...e.outliers||[]]),o=Math.min(...d),x=Math.max(...d)-o||1,m=(r-80)/x;s.forEach((e,s)=>{let a=40+s*c+c/2,l=r-40-(e.min-o)*m,n=r-40-(e.q1-o)*m,i=r-40-(e.median-o)*m,d=r-40-(e.q3-o)*m,x=r-40-(e.max-o)*m;t.strokeStyle="#6b7280",t.lineWidth=1,t.beginPath(),t.moveTo(a,l),t.lineTo(a,n),t.moveTo(a,d),t.lineTo(a,x),t.stroke(),t.beginPath(),t.moveTo(a-10,l),t.lineTo(a+10,l),t.moveTo(a-10,x),t.lineTo(a+10,x),t.stroke(),t.fillStyle="#0ea5e9",t.fillRect(a-20,d,40,n-d),t.strokeStyle="#0284c7",t.lineWidth=2,t.strokeRect(a-20,d,40,n-d),t.strokeStyle="#ffffff",t.lineWidth=2,t.beginPath(),t.moveTo(a-20,i),t.lineTo(a+20,i),t.stroke(),e.outliers&&(t.fillStyle="#ef4444",e.outliers.forEach(e=>{let s=r-40-(e-o)*m;t.beginPath(),t.arc(a,s,3,0,2*Math.PI),t.fill()})),t.fillStyle="#374151",t.font="12px Inter, sans-serif",t.textAlign="center",t.fillText(e.label,a,r-10)}),t.strokeStyle="#e5e7eb",t.lineWidth=1,t.beginPath(),t.moveTo(40,40),t.lineTo(40,r-40),t.stroke(),t.fillStyle="#6b7280",t.font="11px Inter, sans-serif",t.textAlign="right";for(let e=0;e<=5;e++){let s=o+x*e/5,a=r-40-(s-o)*m;t.fillText(s.toFixed(0),30,a+4)}},[s,r]),(0,l.useEffect)(()=>{if(!n.current)return;let e=new ResizeObserver(()=>{if(n.current){let e=new Event("resize");window.dispatchEvent(e)}});return e.observe(n.current.parentElement),()=>{e.disconnect()}},[]),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-lg",children:a})}),(0,t.jsx)(E,{children:(0,t.jsx)("canvas",{ref:n,className:"w-full",style:{height:"".concat(r,"px")}})})]})}function eu(e){let{data:s,xLabels:a,yLabels:l,title:r="Heatmap",colorScale:n={min:"#f3f4f6",mid:"#60a5fa",max:"#1e40af"}}=e,i=s.map(e=>e.value),c=Math.min(...i),d=Math.max(...i),o=d-c,x=e=>{let s=(e-c)/o;return s<.5&&n.mid?m(n.min,n.mid,2*s):n.mid?m(n.mid,n.max,(s-.5)*2):m(n.min,n.max,s)},m=(e,s,a)=>{let t=e=>{let s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:{r:0,g:0,b:0}},l=t(e),r=t(s),n=Math.round(l.r+(r.r-l.r)*a),i=Math.round(l.g+(r.g-l.g)*a),c=Math.round(l.b+(r.b-l.b)*a);return"rgb(".concat(n,", ").concat(i,", ").concat(c,")")},h=(e,a)=>{let t=s.find(s=>s.x===e&&s.y===a);return(null==t?void 0:t.value)||0};return(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-lg",children:r})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)("div",{className:"inline-block",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex flex-col justify-end pr-2",children:l.map(e=>(0,t.jsx)("div",{className:"h-10 flex items-center justify-end text-xs text-muted-foreground",children:e},e))}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"grid grid-flow-col gap-1",children:a.map(e=>(0,t.jsx)("div",{className:"space-y-1",children:l.map(s=>{let a=h(e,s);return(0,t.jsx)("div",{className:"w-10 h-10 flex items-center justify-center text-xs font-medium rounded transition-all hover:scale-110",style:{backgroundColor:x(a),color:a>(d-c)/2?"white":"#374151"},title:"".concat(e,", ").concat(s,": ").concat(a),children:a},"".concat(e,"-").concat(s))})},e))}),(0,t.jsx)("div",{className:"grid grid-flow-col gap-1 mt-2",children:a.map(e=>(0,t.jsx)("div",{className:"w-10 text-xs text-muted-foreground text-center truncate",children:e},e))})]})]})})}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-4",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:c}),(0,t.jsx)("div",{className:"w-48 h-4 rounded",style:{background:"linear-gradient(to right, ".concat(n.min,", ").concat(n.mid||n.max,", ").concat(n.max,")")}}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:d})]})]})]})}var ej=a(22135),eg=a(40875),ef=a(24156);function ev(e){let{data:s,columns:a,title:r="Data Table",searchable:n=!0,exportable:i=!0,pageSize:c=10}=e,[d,o]=(0,l.useState)(null),[m,h]=(0,l.useState)("asc"),[u,j]=(0,l.useState)(1),[g,f]=(0,l.useState)(""),v=g?s.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(g.toLowerCase()))):s,p=d?[...v].sort((e,s)=>{let a=e[d],t=s[d];return a<t?"asc"===m?-1:1:a>t?"asc"===m?1:-1:0}):v,b=Math.ceil(p.length/c),N=(u-1)*c,y=p.slice(N,N+c),w=e=>{d===e?h("asc"===m?"desc":"asc"):(o(e),h("asc"))};return(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(q,{className:"text-lg",children:r}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[n&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search...",value:g,onChange:e=>f(e.target.value),className:"pl-8 pr-3 py-1 text-sm border border-border rounded-md bg-background"}),(0,t.jsx)(z.Z,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),i&&(0,t.jsxs)(x,{variant:"outline",size:"sm",onClick:()=>{let e=a.map(e=>e.label).join(","),s=p.map(e=>a.map(s=>String(e[s.key]||"")).join(",")).join("\n"),t=new Blob(["".concat(e,"\n").concat(s)],{type:"text/csv"}),l=URL.createObjectURL(t),n=document.createElement("a");n.href=l,n.download="".concat(r.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().split("T")[0],".csv"),n.click()},children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-border",children:a.map(e=>(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground uppercase tracking-wide ".concat(e.sortable?"cursor-pointer hover:text-foreground":""),style:{width:e.width},onClick:()=>e.sortable&&w(e.key),children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{children:e.label}),e.sortable&&(0,t.jsx)("span",{className:"text-muted-foreground",children:d===e.key?"asc"===m?(0,t.jsx)(ej.Z,{className:"h-3 w-3"}):(0,t.jsx)(eg.Z,{className:"h-3 w-3"}):(0,t.jsx)(ef.Z,{className:"h-3 w-3"})})]})},String(e.key)))})}),(0,t.jsx)("tbody",{className:"divide-y divide-border",children:y.map((e,s)=>(0,t.jsx)("tr",{className:"hover:bg-muted/50 transition-colors",children:a.map(s=>(0,t.jsx)("td",{className:"py-3 px-4 text-sm",children:s.render?s.render(e[s.key],e):String(e[s.key]||"")},String(s.key)))},s))})]})}),b>1&&(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",N+1," to ",Math.min(N+c,p.length)," of ",p.length," results"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===u,children:"Previous"}),Array.from({length:b},(e,s)=>s+1).filter(e=>1===e||e===b||1>=Math.abs(e-u)).map((e,s,a)=>(0,t.jsxs)("div",{className:"flex items-center",children:[s>0&&a[s-1]<e-1&&(0,t.jsx)("span",{className:"px-2 text-muted-foreground",children:"..."}),(0,t.jsx)(x,{variant:u===e?"default":"outline",size:"sm",onClick:()=>j(e),children:e})]},e)),(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>j(e=>Math.min(b,e+1)),disabled:u===b,children:"Next"})]})]})]})]})}var ep=a(96580);let eb="https://cxzllzyxwpyptfretryc.supabase.co",eN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4emxsenl4d3B5cHRmcmV0cnljIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzNzYxODAsImV4cCI6MjA2Nzk1MjE4MH0.b794GEIWE4ZdMAm9xQYAJ0Gx-XEn1fhJBTIIeTro_1g",ey=(()=>{if(!eb||!eN)throw Error("Missing Supabase environment variables");return(0,ep.eI)(eb,eN)})(),ew=e=>{let[s,a]=(0,l.useState)([]),[t,r]=(0,l.useState)(!0),[n,i]=(0,l.useState)(null);(0,l.useEffect)(()=>{c()},[e]);let c=async()=>{try{var s,t;r(!0);let l=ey.from("gold_daily_metrics").select("*").order("metric_date",{ascending:!1});(null===(s=e.dateRange)||void 0===s?void 0:s.startDate)&&(l=l.gte("metric_date",e.dateRange.startDate)),(null===(t=e.dateRange)||void 0===t?void 0:t.endDate)&&(l=l.lte("metric_date",e.dateRange.endDate)),"all"!==e.location&&(l=l.eq("store_name",e.location));let{data:n,error:i}=await l;if(i)throw i;a(n||[])}catch(e){i(e)}finally{r(!1)}};return{data:s,loading:t,error:n,refetch:c}},ek=()=>{let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!0),[r,n]=(0,l.useState)(null);(0,l.useEffect)(()=>{i()},[]);let i=async()=>{try{t(!0);let{data:e,error:a}=await ey.from("gold_daily_metrics").select("*").order("metric_date",{ascending:!1}).limit(7);if(a)throw a;if(e&&e.length>0){let a=e.reduce((e,s)=>({totalTransactions:e.totalTransactions+s.total_transactions,totalRevenue:e.totalRevenue+s.total_revenue,uniqueCustomers:e.uniqueCustomers+s.unique_customers,categories:[...e.categories,s.top_category],brands:[...e.brands,s.top_brand]}),{totalTransactions:0,totalRevenue:0,uniqueCustomers:0,categories:[],brands:[]}),t=c(a.categories),l=c(a.brands);s({totalTransactions:a.totalTransactions,totalRevenue:a.totalRevenue,avgTransactionValue:a.totalRevenue/a.totalTransactions,uniqueCustomers:a.uniqueCustomers,topCategory:t,topBrand:l})}}catch(e){n(e)}finally{t(!1)}},c=e=>{var s;return(null===(s=Object.entries(e.reduce((e,s)=>(e[s]=(e[s]||0)+1,e),{})).sort((e,s)=>{let[,a]=e,[,t]=s;return t-a})[0])||void 0===s?void 0:s[0])||""};return{kpis:e,loading:a,error:r,refetch:i}},eS=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,[a,t]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0),[i,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{d()},[e,s]);let d=async()=>{try{var a,l;n(!0);let r=ey.from("silver_transactions_cleaned").select("*").order("transaction_date",{ascending:!1}).limit(s);(null===(a=e.dateRange)||void 0===a?void 0:a.startDate)&&(r=r.gte("transaction_date",e.dateRange.startDate)),(null===(l=e.dateRange)||void 0===l?void 0:l.endDate)&&(r=r.lte("transaction_date",e.dateRange.endDate)),"all"!==e.category&&(r=r.eq("category",e.category)),"all"!==e.brand&&(r=r.eq("brand",e.brand));let{data:i,error:c}=await r;if(c)throw c;t(i||[])}catch(e){c(e)}finally{n(!1)}};return{data:a,loading:r,error:i,refetch:d}};function eC(e){let{filters:s}=e,{data:a,loading:r}=ew(s),{kpis:n,loading:i}=ek(),{data:c,loading:d}=eS(s,100),[o,x]=(0,l.useState)([]),[m,j]=(0,l.useState)([]),[g,f]=(0,l.useState)({data:[],xLabels:[],yLabels:[]}),[v,p]=(0,l.useState)([]),[b,N]=(0,l.useState)(!1);(0,l.useEffect)(()=>{a&&a.length>0&&x(a.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),transactions:e.total_transactions,revenue:e.total_revenue,avgValue:e.avg_transaction_value})))},[a]),(0,l.useEffect)(()=>{y()},[s]);let y=async()=>{N(!0);try{var e,a,t,l;let{data:r}=await ey.rpc("get_category_performance",{start_date:null===(e=s.dateRange)||void 0===e?void 0:e.startDate,end_date:null===(a=s.dateRange)||void 0===a?void 0:a.endDate});if(r){let e=r.map(e=>({label:e.category,min:.5*e.avg_basket_size,q1:.75*e.avg_basket_size,median:e.avg_basket_size,q3:1.25*e.avg_basket_size,max:2*e.avg_basket_size,outliers:[2.5*e.avg_basket_size,3*e.avg_basket_size]}));j(e)}let{data:n}=await ey.rpc("get_hourly_transaction_pattern",{days_back:7});if(n){let e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=Array.from({length:24},(e,s)=>"".concat(s,":00")),a=[];e.forEach((e,s)=>{n.forEach(t=>{a.push({day:e,hour:"".concat(t.hour,":00"),value:t.avg_transactions*(s<5?1:1.2)})})}),f({data:a,xLabels:s,yLabels:e})}let{data:i}=await ey.from("silver_transactions_cleaned").select("category, is_weekend, total_price").gte("transaction_date",(null===(t=s.dateRange)||void 0===t?void 0:t.startDate)||new Date(Date.now()-6048e5).toISOString()).lte("transaction_date",(null===(l=s.dateRange)||void 0===l?void 0:l.endDate)||new Date().toISOString());if(i){let e=new Map;i.forEach(s=>{let a=s.category;e.has(a)||e.set(a,{weekday:0,weekend:0});let t=e.get(a);s.is_weekend?t.weekend+=s.total_price:t.weekday+=s.total_price});let s=Array.from(e.entries()).map(e=>{let[s,a]=e;return{category:s,weekday:Math.round(a.weekday),weekend:Math.round(a.weekend)}});p(s)}}catch(e){console.error("Error fetching additional data:",e)}finally{N(!1)}},w=r||i||d||b,k=(c||[]).slice(0,20).map(e=>{var s,a;return{transaction_id:(null==e?void 0:null===(s=e.transaction_id)||void 0===s?void 0:s.slice(0,8))||"",transaction_date:(null==e?void 0:e.transaction_date)?new Date(e.transaction_date).toLocaleDateString():"",store_name:(null==e?void 0:e.store_id)||"",category:(null==e?void 0:e.category)||"",total_price:(null==e?void 0:e.total_price)?"₱".concat(e.total_price.toLocaleString()):"₱0",customer_id:(null==e?void 0:null===(a=e.customer_id)||void 0===a?void 0:a.slice(0,8))||""}});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(q,{className:"text-sm font-medium",children:"Total Transactions"}),(0,t.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:w?"...":(null==n?void 0:n.totalTransactions.toLocaleString())||"0"}),(0,t.jsxs)(h,{variant:"default",className:"mt-2",children:[(0,t.jsx)(u.Z,{className:"w-3 h-3 mr-1"}),"12.5%"]})]})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(q,{className:"text-sm font-medium",children:"Average Value"}),(0,t.jsx)(ex.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(E,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["₱",w?"...":(null==n?void 0:n.avgTransactionValue.toFixed(0))||"0"]}),(0,t.jsxs)(h,{variant:"default",className:"mt-2",children:[(0,t.jsx)(u.Z,{className:"w-3 h-3 mr-1"}),"3.2%"]})]})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(q,{className:"text-sm font-medium",children:"Peak Hour"}),(0,t.jsx)(em.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"3-5 PM"}),(0,t.jsx)(h,{variant:"secondary",className:"mt-2",children:"Daily"})]})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(q,{className:"text-sm font-medium",children:"Top Location"}),(0,t.jsx)(_.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"Metro Manila"}),(0,t.jsx)(h,{variant:"secondary",className:"mt-2",children:"42%"})]})]})]}),(0,t.jsxs)(F,{defaultValue:"timeseries",className:"space-y-4",children:[(0,t.jsxs)(H,{className:"glass-panel",children:[(0,t.jsx)(W,{value:"timeseries",children:"Time Series"}),(0,t.jsx)(W,{value:"distribution",children:"Distribution"}),(0,t.jsx)(W,{value:"heatmap",children:"Heatmap"}),(0,t.jsx)(W,{value:"comparison",children:"Comparison"})]}),(0,t.jsx)($,{value:"timeseries",className:"space-y-4",children:(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Transaction Trends Over Time"}),(0,t.jsx)(V,{children:"Daily transactions and revenue"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:400,children:(0,t.jsxs)(ea.w,{data:o,children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"date"}),(0,t.jsx)(er.B,{yAxisId:"left"}),(0,t.jsx)(er.B,{yAxisId:"right",orientation:"right"}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(ec.x,{yAxisId:"left",type:"monotone",dataKey:"transactions",stroke:"#0ea5e9",strokeWidth:2,name:"Transactions"}),(0,t.jsx)(ec.x,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Revenue (₱)"})]})})})]})}),(0,t.jsx)($,{value:"distribution",className:"space-y-4",children:(0,t.jsx)(eh,{data:m,title:"Transaction Value Distribution by Category",height:400})}),(0,t.jsx)($,{value:"heatmap",className:"space-y-4",children:(0,t.jsx)(eu,{data:g.data,xLabels:g.xLabels,yLabels:g.yLabels,title:"Transaction Intensity by Day and Hour"})}),(0,t.jsx)($,{value:"comparison",className:"space-y-4",children:(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Weekday vs Weekend Comparison"}),(0,t.jsx)(V,{children:"Transaction patterns by day type"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:400,children:(0,t.jsxs)(ed.v,{data:v,children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"category"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(eo.$,{dataKey:"weekday",fill:"#0ea5e9",name:"Weekday"}),(0,t.jsx)(eo.$,{dataKey:"weekend",fill:"#10b981",name:"Weekend"})]})})})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Recent Transactions"}),(0,t.jsx)(V,{children:"Latest transaction details"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(ev,{columns:[{key:"transaction_id",label:"Transaction ID"},{key:"transaction_date",label:"Date"},{key:"store_name",label:"Store"},{key:"category",label:"Category"},{key:"total_price",label:"Total"},{key:"customer_id",label:"Customer"}],data:k})})]})]})}var eR=a(77353);function eD(e){let{data:s,title:a="Pareto Analysis",valueLabel:l="Value"}=e,r=[...s].sort((e,s)=>s.value-e.value),n=r.reduce((e,s)=>e+s.value,0),i=0,c=r.map(e=>{let s=(i+=e.value)/n*100;return{...e,percentage:e.value/n*100,cumulative:s}});return(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-lg",children:a})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(es.h,{width:"100%",height:400,children:(0,t.jsxs)(eR.c,{data:c,children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:{fontSize:12}}),(0,t.jsx)(er.B,{yAxisId:"left",label:{value:l,angle:-90,position:"insideLeft"}}),(0,t.jsx)(er.B,{yAxisId:"right",orientation:"right",label:{value:"Cumulative %",angle:90,position:"insideRight"},domain:[0,100]}),(0,t.jsx)(en.u,{formatter:(e,s)=>"cumulative"===s?"".concat(e.toFixed(1),"%"):e.toLocaleString()}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(eo.$,{yAxisId:"left",dataKey:"value",fill:"#0ea5e9",name:l}),(0,t.jsx)(ec.x,{yAxisId:"right",type:"monotone",dataKey:"cumulative",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#dc2626",r:4},name:"Cumulative %"})]})}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-semibold",children:"80/20 Analysis:"})," "," ",c.findIndex(e=>e.cumulative>=80)+1," items (",((c.findIndex(e=>e.cumulative>=80)+1)/c.length*100).toFixed(0),"%) account for 80% of total ",l.toLowerCase()]})})]})]})}function eA(e){let{nodes:s,links:a,title:r="Flow Analysis",height:n=400}=e,i=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!i.current)return;let e=i.current,t=e.getContext("2d");if(!t)return;e.width=e.offsetWidth,e.height=n,t.clearRect(0,0,e.width,e.height);let l={},r={};s.forEach(e=>{let s=a.some(s=>s.source===e.id),t=a.some(s=>s.target===e.id),r=1;s&&!t&&(r=0),!s&&t&&(r=2),l[r]||(l[r]=[]),l[r].push(e)});let c=Object.keys(l).length,d=(e.width-80-20*c)/(c-1);Object.entries(l).forEach(s=>{let[a,t]=s,l=40+parseInt(a)*(20+d),n=(e.height-80-20*(t.length-1))/t.length;t.forEach((e,s)=>{r[e.id]={x:l,y:40+s*(n+20),height:n}})}),Object.entries(r).forEach(e=>{let[a,l]=e,r=s.find(e=>e.id===a);r&&(t.fillStyle=r.color||"#0ea5e9",t.fillRect(l.x,l.y,20,l.height),t.fillStyle="#374151",t.font="12px Inter, sans-serif",t.textAlign="left",t.fillText(r.label,l.x+20+10,l.y+l.height/2+4))}),a.forEach(e=>{let s=r[e.source],l=r[e.target];if(!s||!l)return;let n=Math.max(...a.map(e=>e.value)),i=e.value/n*50;t.beginPath(),t.moveTo(s.x+20,s.y+s.height/2);let c=s.x+20+d/3,o=l.x-d/3,x=(s.y+s.height/2+l.y+l.height/2)/2;t.bezierCurveTo(c,s.y+s.height/2,o,l.y+l.height/2,l.x,l.y+l.height/2),t.strokeStyle="rgba(14, 165, 233, 0.3)",t.lineWidth=i,t.stroke(),t.fillStyle="#6b7280",t.font="11px Inter, sans-serif",t.textAlign="center",t.fillText(e.value.toString(),(s.x+l.x)/2,x-i/2-5)})},[s,a,n]),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-lg",children:r})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("canvas",{ref:i,className:"w-full",style:{height:"".concat(n,"px")}}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-primary rounded mr-2"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Product Flow"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-2 bg-primary/30 rounded mr-2"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Flow Volume"})]})]})]})]})}var eB=a(76858);let eT=[{name:"Shampoo 500ml",value:3421},{name:"Coca-Cola 1.5L",value:3102},{name:"Chips Large",value:2876},{name:"Detergent 1kg",value:2543},{name:"Instant Noodles",value:2234},{name:"Cigarettes Pack",value:1987},{name:"Soap Bar",value:1654},{name:"Coffee 3-in-1",value:1432},{name:"Biscuits",value:1234},{name:"Cooking Oil 1L",value:987}],ez=[{id:"beverages",label:"Beverages"},{id:"snacks",label:"Snacks"},{id:"personal",label:"Personal Care"},{id:"brandA",label:"Brand A"},{id:"brandB",label:"Brand B"},{id:"brandC",label:"Brand C"},{id:"substitute1",label:"Substitute Product 1"},{id:"substitute2",label:"Substitute Product 2"}],eZ=[{source:"beverages",target:"brandA",value:100},{source:"beverages",target:"brandB",value:80},{source:"snacks",target:"brandC",value:60},{source:"brandA",target:"substitute1",value:30},{source:"brandB",target:"substitute2",value:25}],e_=[{sku:"BEV-001",name:"Coca-Cola 1.5L",category:"Beverages",brand:"Coca-Cola",transactions:3102,avgBasketSize:2.3,substitutionRate:12,status:"active"},{sku:"SNK-002",name:"Chips Large Pack",category:"Snacks",brand:"Brand C",transactions:2876,avgBasketSize:1.8,substitutionRate:8,status:"active"},{sku:"PER-003",name:"Shampoo 500ml",category:"Personal Care",brand:"Brand D",transactions:3421,avgBasketSize:1.2,substitutionRate:15,status:"active"}];function eM(e){let{filters:s}=e,[a,r]=(0,l.useState)("breakdown");return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Product Mix & SKU Info"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Analyze product categories, brands, and substitution patterns"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total SKUs"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"1,234"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"+45"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Active Categories"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"12"}),(0,t.jsxs)(h,{variant:"outline",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 mr-1"}),"Stable"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Avg Items/Basket"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"2.8"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"+0.3"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Substitution Rate"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"18.5%"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[(0,t.jsx)(eB.Z,{className:"h-3 w-3 mr-1"}),"High"]})]})})]})]}),(0,t.jsxs)(F,{value:a,onValueChange:r,className:"space-y-4",children:[(0,t.jsxs)(H,{className:"grid grid-cols-4 w-full max-w-md",children:[(0,t.jsx)(W,{value:"breakdown",children:"Breakdown"}),(0,t.jsx)(W,{value:"pareto",children:"Top SKUs"}),(0,t.jsx)(W,{value:"flow",children:"Substitution"}),(0,t.jsx)(W,{value:"table",children:"Details"})]}),(0,t.jsx)($,{value:"breakdown",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Category & Brand Mix"}),(0,t.jsx)(V,{children:"Product distribution by category and brand"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:400,children:(0,t.jsxs)(ed.v,{data:[{category:"Beverages",brandA:4532,brandB:3211,brandC:987},{category:"Snacks",brandA:2987,brandB:1876,brandC:1234},{category:"Personal Care",brandA:1987,brandB:1654,brandC:876},{category:"Household",brandA:987,brandB:765,brandC:543},{category:"Tobacco",brandA:432,brandB:321,brandC:234}],children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"category"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(eo.$,{dataKey:"brandA",stackId:"a",fill:"#0ea5e9",name:"Brand A"}),(0,t.jsx)(eo.$,{dataKey:"brandB",stackId:"a",fill:"#10b981",name:"Brand B"}),(0,t.jsx)(eo.$,{dataKey:"brandC",stackId:"a",fill:"#f59e0b",name:"Brand C"})]})})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Basket Composition"}),(0,t.jsx)(V,{children:"Number of items per transaction"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:400,children:(0,t.jsxs)(ed.v,{data:[{items:"1 item",count:5432,percentage:35},{items:"2 items",count:4321,percentage:28},{items:"3 items",count:3210,percentage:21},{items:"4-5 items",count:1876,percentage:12},{items:"6+ items",count:654,percentage:4}],children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"items"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{}),(0,t.jsx)(eo.$,{dataKey:"count",fill:"#0ea5e9"})]})})})]})]})}),(0,t.jsx)($,{value:"pareto",className:"space-y-4",children:(0,t.jsx)(eD,{data:eT,title:"Top SKUs by Transaction Volume",valueLabel:"Transactions"})}),(0,t.jsx)($,{value:"flow",className:"space-y-4",children:(0,t.jsx)(eA,{nodes:ez,links:eZ,title:"Product Substitution Patterns"})}),(0,t.jsx)($,{value:"table",className:"space-y-4",children:(0,t.jsx)(ev,{data:e_,title:"SKU Performance Details",columns:[{key:"sku",label:"SKU Code",sortable:!0},{key:"name",label:"Product Name",sortable:!0},{key:"category",label:"Category",sortable:!0},{key:"brand",label:"Brand",sortable:!0},{key:"transactions",label:"Transactions",sortable:!0,render:e=>e.toLocaleString()},{key:"avgBasketSize",label:"Avg Basket",sortable:!0,render:e=>e.toFixed(1)},{key:"substitutionRate",label:"Substitution %",sortable:!0,render:e=>(0,t.jsxs)(h,{variant:e>10?"secondary":"outline",children:[e,"%"]})},{key:"status",label:"Status",render:e=>(0,t.jsx)(h,{variant:"active"===e?"default":"secondary",children:e})}]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Top Growing Categories"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:["Personal Care","Beverages","Snacks"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:["+",15-2*s,"%"]})})]},e))})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"High Substitution Products"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{from:"Brand A Shampoo",to:"Brand B Shampoo",rate:78},{from:"Large Chips",to:"Medium Chips",rate:65},{from:"Premium Coffee",to:"Regular Coffee",rate:54}].map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center text-xs",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:e.from}),(0,t.jsx)(eB.Z,{className:"h-3 w-3 mx-1 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:e.to})]}),(0,t.jsxs)("div",{className:"text-xs text-right text-muted-foreground",children:[e.rate,"% substitution rate"]})]},e.from))})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Bundle Opportunities"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{items:["Shampoo","Conditioner"],frequency:68},{items:["Chips","Soft Drink"],frequency:54},{items:["Coffee","Creamer"],frequency:47}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.items.join(" + ")}),(0,t.jsxs)(h,{variant:"outline",children:[e.frequency,"%"]})]},s))})})]})]})]})}var eP=a(60520),eI=a(30401);let eK=eP.fC;eP.ZA;let eL=eP.B4,eq=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(eP.xz,{ref:s,className:i("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[l,(0,t.jsx)(eP.JO,{asChild:!0,children:(0,t.jsx)(eg.Z,{className:"h-4 w-4 opacity-50"})})]})});eq.displayName=eP.xz.displayName;let eV=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(eP.u_,{ref:s,className:i("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(ej.Z,{className:"h-4 w-4"})})});eV.displayName=eP.u_.displayName;let eE=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(eP.$G,{ref:s,className:i("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(eg.Z,{className:"h-4 w-4"})})});eE.displayName=eP.$G.displayName;let eO=l.forwardRef((e,s)=>{let{className:a,children:l,position:r="popper",...n}=e;return(0,t.jsx)(eP.h_,{children:(0,t.jsxs)(eP.VY,{ref:s,className:i("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...n,children:[(0,t.jsx)(eV,{}),(0,t.jsx)(eP.l_,{className:i("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(eE,{})]})})});eO.displayName=eP.VY.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(eP.__,{ref:s,className:i("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=eP.__.displayName;let eF=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(eP.ck,{ref:s,className:i("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(eP.wU,{children:(0,t.jsx)(eI.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(eP.eT,{children:l})]})});eF.displayName=eP.ck.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(eP.Z0,{ref:s,className:i("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=eP.Z0.displayName;var eH=a(75169),eW=a(3574),e$=a(20407);function eG(e){let{data:s,title:a="Funnel Analysis",showPercentages:l=!0}=e,r=Math.max(...s.map(e=>e.value)),n=e=>0===e?100:s[e].value/s[0].value*100,i=e=>0===e?0:(s[e-1].value-s[e].value)/s[e-1].value*100;return(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-lg",children:a})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"space-y-4",children:s.map((e,a)=>{let c=e.value/r*100,d=n(a),o=i(a);return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 rounded transition-all hover:scale-[1.02]",style:{width:"".concat(c,"%"),backgroundColor:e.color||"hsl(199, 89%, ".concat(50+10*a,"%)"),marginLeft:"".concat((100-c)/2,"%")},children:[(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:e.name}),(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:e.value.toLocaleString()})]}),l&&(0,t.jsx)("div",{className:"absolute -right-2 top-1/2 -translate-y-1/2 translate-x-full",children:(0,t.jsxs)(h,{variant:"outline",className:"text-xs",children:[d.toFixed(1),"%"]})})]}),a<s.length-1&&o>0&&(0,t.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,t.jsx)("path",{d:"M10 5v10m0 0l-3-3m3 3l3-3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsxs)("span",{children:[o.toFixed(1),"% drop-off"]})]})})]},e.name)})}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-border grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Conversion"}),(0,t.jsxs)("p",{className:"text-lg font-semibold",children:[(s[s.length-1].value/s[0].value*100).toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Avg Drop-off"}),(0,t.jsxs)("p",{className:"text-lg font-semibold",children:[(s.slice(1).reduce((e,s,a)=>e+i(a+1),0)/(s.length-1)).toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Stages"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:s.length})]})]})]})]})}var eU=a(58896);let eJ=[{name:"Branded",value:4532,percentage:45,color:"#0ea5e9"},{name:"Unbranded",value:3521,percentage:35,color:"#10b981"},{name:"Unsure",value:2012,percentage:20,color:"#f59e0b"}],eY=[{method:"Pointing",branded:3200,unbranded:1800,unsure:800},{method:"Verbal",branded:1e3,unbranded:1400,unsure:900},{method:"Indirect",branded:332,unbranded:321,unsure:312}],eQ=[{name:"Product Requested",value:10065},{name:"Product Located",value:9258},{name:"Price Checked",value:7806},{name:"Added to Basket",value:6543},{name:"Purchased",value:5832}],eX=[{segment:"Young Adults (18-25)",requestType:"Branded",requestMethod:"Pointing",acceptanceRate:68,avgBasketSize:3.2,returnRate:12,satisfaction:4.2},{segment:"Adults (26-35)",requestType:"Unbranded",requestMethod:"Verbal",acceptanceRate:75,avgBasketSize:4.1,returnRate:8,satisfaction:4.5},{segment:"Middle Age (36-50)",requestType:"Branded",requestMethod:"Verbal",acceptanceRate:82,avgBasketSize:5.3,returnRate:5,satisfaction:4.7}],e0=[{brand:"Brand A",preference:78,loyalty:65},{brand:"Brand B",preference:65,loyalty:72},{brand:"Brand C",preference:54,loyalty:48},{brand:"Brand D",preference:43,loyalty:55},{brand:"Brand E",preference:32,loyalty:30}];function e1(e){let{filters:s}=e,[a,r]=(0,l.useState)("overview"),[n,i]=(0,l.useState)("all"),[c,d]=(0,l.useState)("all"),[o,x]=(0,l.useState)("all");return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Consumer Behavior & Preference Signals"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Analyze consumer request patterns, preferences, and shopping behaviors"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)(eK,{value:o,onValueChange:x,children:[(0,t.jsx)(eq,{className:"w-48",children:(0,t.jsx)(eL,{placeholder:"All Categories"})}),(0,t.jsxs)(eO,{children:[(0,t.jsx)(eF,{value:"all",children:"All Categories"}),(0,t.jsx)(eF,{value:"beverages",children:"Beverages"}),(0,t.jsx)(eF,{value:"snacks",children:"Snacks"}),(0,t.jsx)(eF,{value:"personal-care",children:"Personal Care"}),(0,t.jsx)(eF,{value:"household",children:"Household"})]})]}),(0,t.jsxs)(eK,{value:n,onValueChange:i,children:[(0,t.jsx)(eq,{className:"w-48",children:(0,t.jsx)(eL,{placeholder:"All Age Groups"})}),(0,t.jsxs)(eO,{children:[(0,t.jsx)(eF,{value:"all",children:"All Age Groups"}),(0,t.jsx)(eF,{value:"18-25",children:"18-25 years"}),(0,t.jsx)(eF,{value:"26-35",children:"26-35 years"}),(0,t.jsx)(eF,{value:"36-50",children:"36-50 years"}),(0,t.jsx)(eF,{value:"50+",children:"50+ years"})]})]}),(0,t.jsxs)(eK,{value:c,onValueChange:d,children:[(0,t.jsx)(eq,{className:"w-48",children:(0,t.jsx)(eL,{placeholder:"All Genders"})}),(0,t.jsxs)(eO,{children:[(0,t.jsx)(eF,{value:"all",children:"All Genders"}),(0,t.jsx)(eF,{value:"male",children:"Male"}),(0,t.jsx)(eF,{value:"female",children:"Female"}),(0,t.jsx)(eF,{value:"other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Avg Request/Visit"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"2.4"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"+0.3"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Acceptance Rate"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"58%"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"+5%"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Brand Loyalty"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"72%"}),(0,t.jsxs)(h,{variant:"outline",children:[(0,t.jsx)(eU.Z,{className:"h-3 w-3 mr-1"}),"Stable"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Satisfaction Score"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"4.3/5"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[(0,t.jsx)(U.Z,{className:"h-3 w-3 mr-1"}),"Good"]})]})})]})]}),(0,t.jsxs)(F,{value:a,onValueChange:r,className:"space-y-4",children:[(0,t.jsxs)(H,{className:"grid grid-cols-5 w-full max-w-2xl",children:[(0,t.jsx)(W,{value:"overview",children:"Overview"}),(0,t.jsx)(W,{value:"funnel",children:"Journey"}),(0,t.jsx)(W,{value:"preferences",children:"Preferences"}),(0,t.jsx)(W,{value:"segments",children:"Segments"}),(0,t.jsx)(W,{value:"details",children:"Details"})]}),(0,t.jsxs)($,{value:"overview",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Request Types"}),(0,t.jsx)(V,{children:"How consumers ask for products"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:300,children:(0,t.jsxs)(eH.u,{children:[(0,t.jsx)(eW.b,{data:eJ,cx:"50%",cy:"50%",labelLine:!1,label:e=>"".concat(e.percentage,"%"),outerRadius:100,fill:"#8884d8",dataKey:"value",children:eJ.map((e,s)=>(0,t.jsx)(e$.b,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{})]})})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Request Methods by Type"}),(0,t.jsx)(V,{children:"How different request types are communicated"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:300,children:(0,t.jsxs)(ed.v,{data:eY,children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"method"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(eo.$,{dataKey:"branded",stackId:"a",fill:"#0ea5e9",name:"Branded"}),(0,t.jsx)(eo.$,{dataKey:"unbranded",stackId:"a",fill:"#10b981",name:"Unbranded"}),(0,t.jsx)(eo.$,{dataKey:"unsure",stackId:"a",fill:"#f59e0b",name:"Unsure"})]})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Peak Request Times"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:["10:00-12:00","14:00-16:00","18:00-20:00"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-24 h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:"".concat(85-15*s,"%")}})}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[85-15*s,"%"]})]})]},e))})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Common Substitutions"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{original:"Premium Brand",substitute:"Store Brand",rate:45},{original:"Large Size",substitute:"Medium Size",rate:38},{original:"Out of Stock",substitute:"Alternative",rate:72}].map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:e.original}),(0,t.jsxs)("span",{className:"font-medium",children:[e.rate,"%"]})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["→ ",e.substitute]})]},e.original))})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Decision Factors"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{factor:"Price",importance:89},{factor:"Brand",importance:72},{factor:"Availability",importance:68},{factor:"Promotion",importance:54}].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.factor}),(0,t.jsxs)(h,{variant:"outline",children:[e.importance,"%"]})]},e.factor))})})]})]})]}),(0,t.jsx)($,{value:"funnel",className:"space-y-4",children:(0,t.jsx)(eG,{data:eQ,title:"Consumer Purchase Journey",showPercentages:!0})}),(0,t.jsx)($,{value:"preferences",className:"space-y-4",children:(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Brand Preference vs Loyalty"}),(0,t.jsx)(V,{children:"Comparison of stated preference and actual loyalty"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:400,children:(0,t.jsxs)(ed.v,{data:e0,children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"brand"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(eo.$,{dataKey:"preference",fill:"#0ea5e9",name:"Preference %"}),(0,t.jsx)(eo.$,{dataKey:"loyalty",fill:"#10b981",name:"Loyalty %"})]})})})]})}),(0,t.jsx)($,{value:"segments",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{children:"Age Group Behavior"})}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:300,children:(0,t.jsxs)(ed.v,{data:[{age:"18-25",digital:78,inStore:22},{age:"26-35",digital:65,inStore:35},{age:"36-50",digital:45,inStore:55},{age:"50+",digital:25,inStore:75}],children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"age"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(eo.$,{dataKey:"digital",stackId:"a",fill:"#0ea5e9",name:"Digital First"}),(0,t.jsx)(eo.$,{dataKey:"inStore",stackId:"a",fill:"#10b981",name:"In-Store First"})]})})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{children:"Gender Preferences"})}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:300,children:(0,t.jsxs)(ed.v,{data:[{category:"Personal Care",male:45,female:78,other:62},{category:"Beverages",male:72,female:65,other:68},{category:"Snacks",male:68,female:72,other:70},{category:"Household",male:52,female:85,other:78}],children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"category"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(eo.$,{dataKey:"male",fill:"#0ea5e9",name:"Male"}),(0,t.jsx)(eo.$,{dataKey:"female",fill:"#ec4899",name:"Female"}),(0,t.jsx)(eo.$,{dataKey:"other",fill:"#10b981",name:"Other"})]})})})]})]})}),(0,t.jsx)($,{value:"details",className:"space-y-4",children:(0,t.jsx)(ev,{data:eX,title:"Consumer Behavior Details",columns:[{key:"segment",label:"Consumer Segment",sortable:!0},{key:"requestType",label:"Primary Request Type",sortable:!0},{key:"requestMethod",label:"Request Method",sortable:!0},{key:"acceptanceRate",label:"Acceptance Rate",sortable:!0,render:e=>(0,t.jsxs)(h,{variant:e>70?"default":"secondary",children:[e,"%"]})},{key:"avgBasketSize",label:"Avg Basket Size",sortable:!0,render:e=>e.toFixed(1)},{key:"returnRate",label:"Return Rate %",sortable:!0,render:e=>"".concat(e,"%")},{key:"satisfaction",label:"Satisfaction",sortable:!0,render:e=>(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{children:e.toFixed(1)}),(0,t.jsx)("span",{className:"text-yellow-500",children:"★"})]})}]})})]})]})}function e2(e){let{node:s,depth:a=0,totalValue:l}=e,r=s.percentage||s.value/l*100,n=s.children&&s.children.length>0,i=e=>{let s=["#0ea5e9","#10b981","#f59e0b","#ef4444","#8b5cf6"];return s[e%s.length]};return(0,t.jsxs)("div",{className:a>0?"ml-6 mt-2":"",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[n&&(0,t.jsx)(X.Z,{className:"h-4 w-4 text-muted-foreground"}),!n&&(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s.color||i(a)}}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-sm font-semibold",children:s.value.toLocaleString()}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",r.toFixed(1),"%)"]})]})]}),(0,t.jsx)("div",{className:"mt-1 h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{width:"".concat(r,"%"),backgroundColor:s.color||i(a)}})})]})]}),n&&(0,t.jsx)("div",{className:"border-l border-border ml-2",children:s.children.map((e,s)=>(0,t.jsx)(e2,{node:e,depth:a+1,totalValue:l},"".concat(e.name,"-").concat(s)))})]})}function e4(e){let{data:s,title:a="Demographic Breakdown"}=e,l=e=>e.children&&0!==e.children.length?e.children.reduce((e,s)=>e+l(s),0):e.value,r=l(s);return(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(q,{className:"text-lg",children:a}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-1"}),"Total: ",r.toLocaleString()]})]})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(e2,{node:s,depth:0,totalValue:r}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-border",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Color Legend"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:["Age Groups","Gender","Location","Income","Education"].map((e,s)=>{let a=["#0ea5e9","#10b981","#f59e0b","#ef4444","#8b5cf6"];return(0,t.jsxs)("div",{className:"flex items-center text-xs",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:a[s%a.length]}}),(0,t.jsx)("span",{className:"text-muted-foreground",children:e})]},e)})})]})]})]})}function e5(e){let{data:s,title:a="Geographic Distribution",height:r=500,center:n={lat:14.5995,lng:120.9842},zoom:i=11}=e,c=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!c.current)return;let e=c.current,a=e.getContext("2d");if(!a)return;e.width=e.offsetWidth,e.height=r,a.clearRect(0,0,e.width,e.height),a.fillStyle="#f3f4f6",a.fillRect(0,0,e.width,e.height),a.strokeStyle="#e5e7eb",a.lineWidth=1;for(let s=0;s<e.width;s+=50)a.beginPath(),a.moveTo(s,0),a.lineTo(s,e.height),a.stroke();for(let s=0;s<e.height;s+=50)a.beginPath(),a.moveTo(0,s),a.lineTo(e.width,s),a.stroke();let t=(s,a)=>({x:(a-n.lng+.15)/.3*e.width,y:(n.lat+.1-s)/.2*e.height}),l=s.map(e=>e.value),i=Math.min(...l),d=Math.max(...l),o=d-i;s.forEach(e=>{let{x:s,y:l}=t(e.lat,e.lng),r=(e.value-i)/o,n=30+20*r,c=a.createRadialGradient(s,l,0,s,l,n),d=Math.floor(255*r),x=Math.floor(100*(1-r)),m=Math.floor(50);c.addColorStop(0,"rgba(".concat(d,", ").concat(x,", ").concat(m,", ").concat(.8*r,")")),c.addColorStop(.5,"rgba(".concat(d,", ").concat(x,", ").concat(m,", ").concat(.4*r,")")),c.addColorStop(1,"rgba(".concat(d,", ").concat(x,", ").concat(m,", 0)")),a.fillStyle=c,a.fillRect(s-n,l-n,2*n,2*n)}),s.forEach(e=>{let{x:s,y:l}=t(e.lat,e.lng);a.fillStyle="#1e40af",a.beginPath(),a.arc(s,l,4,0,2*Math.PI),a.fill(),e.label&&(a.fillStyle="#374151",a.font="12px Inter, sans-serif",a.textAlign="center",a.fillText(e.label,s,l-10))});let x=e.width-200-20,m=e.height-20-20,h=a.createLinearGradient(x,0,x+200,0);h.addColorStop(0,"rgba(100, 255, 50, 0.8)"),h.addColorStop(.5,"rgba(255, 155, 50, 0.8)"),h.addColorStop(1,"rgba(255, 100, 50, 0.8)"),a.fillStyle=h,a.fillRect(x,m,200,20),a.fillStyle="#374151",a.font="11px Inter, sans-serif",a.textAlign="left",a.fillText(i.toString(),x,m-5),a.textAlign="right",a.fillText(d.toString(),x+200,m-5),a.textAlign="center",a.fillText("Transaction Density",x+100,m+20+15)},[s,n,i,r]),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(q,{className:"text-lg",children:a}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 mr-1"}),s.length," locations"]})]})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("canvas",{ref:c,className:"w-full rounded-lg border border-border",style:{height:"".concat(r,"px")}}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{className:"px-3 py-1 text-sm bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Zoom In"}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Zoom Out"}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm bg-secondary text-secondary-foreground rounded hover:bg-secondary/90",children:"Reset View"})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Click and drag to pan • Scroll to zoom"})]})]})]})}var e3=a(29202);let e8=[{name:"18-25",value:2345,percentage:23,color:"#0ea5e9"},{name:"26-35",value:3456,percentage:35,color:"#10b981"},{name:"36-50",value:2678,percentage:27,color:"#f59e0b"},{name:"50+",value:1521,percentage:15,color:"#ef4444"}],e6=[{name:"Male",value:4832,percentage:48,color:"#0ea5e9"},{name:"Female",value:4968,percentage:50,color:"#ec4899"},{name:"Other",value:200,percentage:2,color:"#10b981"}],e9=[{name:"Below 15K",value:1234,percentage:12,color:"#ef4444"},{name:"15K-30K",value:3456,percentage:35,color:"#f59e0b"},{name:"30K-50K",value:2987,percentage:30,color:"#10b981"},{name:"50K-100K",value:1876,percentage:19,color:"#0ea5e9"},{name:"Above 100K",value:447,percentage:4,color:"#8b5cf6"}],e7={name:"Total Consumers",value:1e4,children:[{name:"Metro Manila",value:6500,children:[{name:"Makati",value:1500},{name:"Quezon City",value:2e3},{name:"Manila",value:1200},{name:"Pasig",value:1e3},{name:"Others",value:800}]},{name:"Provincial",value:3500,children:[{name:"Cebu",value:1e3},{name:"Davao",value:800},{name:"Batangas",value:700},{name:"Laguna",value:600},{name:"Others",value:400}]}]},se=[{lat:14.5995,lng:120.9842,value:89,label:"Makati CBD"},{lat:14.676,lng:121.0437,value:76,label:"Quezon City"},{lat:14.5906,lng:120.9799,value:82,label:"Manila"},{lat:14.5764,lng:121.0851,value:68,label:"Pasig"},{lat:14.4791,lng:120.897,value:45,label:"Cavite"},{lat:14.299,lng:121.0794,value:54,label:"Laguna"},{lat:14.5515,lng:121.0244,value:71,label:"Mandaluyong"},{lat:14.5547,lng:121.0243,value:63,label:"San Juan"}],ss=[{segment:"Young Professionals",ageRange:"25-35",income:"30K-50K",location:"Metro Manila",avgSpend:2850,frequency:3.2,loyalty:72,profile:"Tech-savvy, brand-conscious"},{segment:"Family Shoppers",ageRange:"36-50",income:"50K-100K",location:"Suburban",avgSpend:4250,frequency:2.8,loyalty:85,profile:"Value-focused, bulk buyers"},{segment:"Budget Conscious",ageRange:"18-25",income:"Below 30K",location:"Provincial",avgSpend:1450,frequency:4.1,loyalty:45,profile:"Price-sensitive, promo-seekers"}],sa=[{lifestyle:"Health Conscious",percentage:32},{lifestyle:"Convenience Seekers",percentage:28},{lifestyle:"Budget Focused",percentage:25},{lifestyle:"Premium Buyers",percentage:15}];function st(e){let{filters:s}=e,[a,r]=(0,l.useState)("demographics"),n=e=>"".concat(e.percentage,"%");return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Consumer Profiling"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Demographics and geographic distribution of consumers"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Profiles"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"10,000"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"+1,234"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Active Segments"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"12"}),(0,t.jsxs)(h,{variant:"outline",children:[(0,t.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),"Stable"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Geographic Coverage"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"47"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-sky-100 text-sky-800",children:[(0,t.jsx)(_.Z,{className:"h-3 w-3 mr-1"}),"Cities"]})]})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Avg Profile Score"})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"82%"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:[(0,t.jsx)(e3.Z,{className:"h-3 w-3 mr-1"}),"High"]})]})})]})]}),(0,t.jsxs)(F,{value:a,onValueChange:r,className:"space-y-4",children:[(0,t.jsxs)(H,{className:"grid grid-cols-5 w-full max-w-2xl",children:[(0,t.jsx)(W,{value:"demographics",children:"Demographics"}),(0,t.jsx)(W,{value:"geographic",children:"Geographic"}),(0,t.jsx)(W,{value:"lifestyle",children:"Lifestyle"}),(0,t.jsx)(W,{value:"segments",children:"Segments"}),(0,t.jsx)(W,{value:"details",children:"Details"})]}),(0,t.jsxs)($,{value:"demographics",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Age Distribution"}),(0,t.jsx)(V,{children:"Consumer age groups"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:250,children:(0,t.jsxs)(eH.u,{children:[(0,t.jsx)(eW.b,{data:e8,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,labelLine:!1,label:n,dataKey:"value",children:e8.map((e,s)=>(0,t.jsx)(e$.b,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{})]})})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Gender Distribution"}),(0,t.jsx)(V,{children:"Consumer gender breakdown"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:250,children:(0,t.jsxs)(eH.u,{children:[(0,t.jsx)(eW.b,{data:e6,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,labelLine:!1,label:n,dataKey:"value",children:e6.map((e,s)=>(0,t.jsx)(e$.b,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{})]})})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Income Distribution"}),(0,t.jsx)(V,{children:"Monthly income brackets (PHP)"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:250,children:(0,t.jsxs)(eH.u,{children:[(0,t.jsx)(eW.b,{data:e9,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,labelLine:!1,label:n,dataKey:"value",children:e9.map((e,s)=>(0,t.jsx)(e$.b,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{})]})})})]})]}),(0,t.jsx)(e4,{data:e7,title:"Location Hierarchy"})]}),(0,t.jsxs)($,{value:"geographic",className:"space-y-4",children:[(0,t.jsx)(e5,{data:se,title:"Consumer Density Heatmap",height:600}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Top Cities"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:["Makati","Quezon City","Manila","Cebu","Davao"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-20 h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:"".concat(90-15*s,"%")}})}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground w-12 text-right",children:1500-200*s})]})]},e))})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Urban vs Rural"})}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:200,children:(0,t.jsxs)(eH.u,{children:[(0,t.jsxs)(eW.b,{data:[{name:"Urban",value:7500,color:"#0ea5e9"},{name:"Rural",value:2500,color:"#10b981"}],cx:"50%",cy:"50%",outerRadius:70,dataKey:"value",children:[(0,t.jsx)(e$.b,{fill:"#0ea5e9"}),(0,t.jsx)(e$.b,{fill:"#10b981"})]}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{})]})})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Regional Growth"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{region:"NCR",growth:15},{region:"Region IV-A",growth:12},{region:"Region VII",growth:10},{region:"Region XI",growth:8}].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.region}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:["+",e.growth,"%"]})]},e.region))})})]})]})]}),(0,t.jsxs)($,{value:"lifestyle",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Lifestyle Segments"}),(0,t.jsx)(V,{children:"Consumer lifestyle preferences"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:300,children:(0,t.jsxs)(ed.v,{data:sa,layout:"horizontal",children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{type:"number"}),(0,t.jsx)(er.B,{dataKey:"lifestyle",type:"category"}),(0,t.jsx)(en.u,{}),(0,t.jsx)(eo.$,{dataKey:"percentage",fill:"#0ea5e9",children:sa.map((e,s)=>(0,t.jsx)(e$.b,{fill:"hsl(199, 89%, ".concat(50+10*s,"%)")},"cell-".concat(s)))})]})})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Shopping Preferences"}),(0,t.jsx)(V,{children:"How different segments prefer to shop"})]}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:300,children:(0,t.jsxs)(ed.v,{data:[{preference:"In-Store Only",young:20,middle:40,senior:70},{preference:"Online First",young:60,middle:35,senior:15},{preference:"Hybrid",young:20,middle:25,senior:15}],children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"preference"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{}),(0,t.jsx)(ei.D,{}),(0,t.jsx)(eo.$,{dataKey:"young",stackId:"a",fill:"#0ea5e9",name:"18-35"}),(0,t.jsx)(eo.$,{dataKey:"middle",stackId:"a",fill:"#10b981",name:"36-50"}),(0,t.jsx)(eo.$,{dataKey:"senior",stackId:"a",fill:"#f59e0b",name:"50+"})]})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Tech Adoption"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{tech:"Mobile App Users",percentage:68},{tech:"QR Payment",percentage:54},{tech:"E-wallet Users",percentage:72},{tech:"Social Commerce",percentage:45}].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.tech}),(0,t.jsxs)(h,{variant:"outline",children:[e.percentage,"%"]})]},e.tech))})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Purchase Drivers"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{driver:"Convenience",score:4.2},{driver:"Price Value",score:4.5},{driver:"Quality",score:4.3},{driver:"Brand Trust",score:3.9}].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.driver}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.score}),(0,t.jsx)("span",{className:"text-yellow-500",children:"★"})]})]},e.driver))})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsx)(q,{className:"text-base",children:"Communication Channels"})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{channel:"SMS",effectiveness:"High"},{channel:"Email",effectiveness:"Medium"},{channel:"Push Notif",effectiveness:"High"},{channel:"Social Media",effectiveness:"Very High"}].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.channel}),(0,t.jsx)(h,{variant:"Very High"===e.effectiveness?"default":"secondary",className:"Very High"===e.effectiveness?"bg-emerald-100 text-emerald-800":"",children:e.effectiveness})]},e.channel))})})]})]})]}),(0,t.jsx)($,{value:"segments",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:["Young Professionals","Family Shoppers","Budget Conscious","Premium Seekers","Senior Citizens","Students"].map((e,s)=>{let a=["#0ea5e9","#10b981","#f59e0b","#8b5cf6","#ef4444","#ec4899"];return(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(q,{className:"text-base",children:e}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a[s%a.length]}})]})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Size"}),(0,t.jsxs)("span",{className:"font-medium",children:[1500+200*s," consumers"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Avg Spend"}),(0,t.jsxs)("span",{className:"font-medium",children:["₱",2e3+500*s]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Visit Freq"}),(0,t.jsxs)("span",{className:"font-medium",children:[(3.5-.3*s).toFixed(1),"x/month"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Growth"}),(0,t.jsxs)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800 text-xs",children:["+",12-s,"%"]})]})]})})]},e)})})}),(0,t.jsx)($,{value:"details",className:"space-y-4",children:(0,t.jsx)(ev,{data:ss,title:"Consumer Profile Details",columns:[{key:"segment",label:"Segment",sortable:!0},{key:"ageRange",label:"Age Range",sortable:!0},{key:"income",label:"Income (PHP)",sortable:!0},{key:"location",label:"Primary Location",sortable:!0},{key:"avgSpend",label:"Avg Spend",sortable:!0,render:e=>"₱".concat(e.toLocaleString())},{key:"frequency",label:"Visit/Month",sortable:!0,render:e=>e.toFixed(1)},{key:"loyalty",label:"Loyalty %",sortable:!0,render:e=>(0,t.jsxs)(h,{variant:e>70?"default":"secondary",children:[e,"%"]})},{key:"profile",label:"Profile",sortable:!1}]})})]})]})}let sl=["#0ea5e9","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function sr(e){let{filters:s}=e,a=[{name:"Beverages",value:35,count:4532},{name:"Snacks",value:28,count:3621},{name:"Personal Care",value:20,count:2587},{name:"Household",value:12,count:1552},{name:"Tobacco",value:5,count:647}],l=[{region:"Metro Manila",transactions:5432,revenue:1234567},{region:"Cebu",transactions:3210,revenue:876543},{region:"Davao",transactions:2876,revenue:654321},{region:"Iloilo",transactions:2105,revenue:543210},{region:"CDO",transactions:1823,revenue:432109}];return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Executive Overview"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Real-time insights across all Scout Dashboard modules"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(K,{className:"glass-panel card-transition",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Revenue"}),(0,t.jsx)(ex.Z,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"₱4.87M"}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 text-emerald-600 mr-1"}),(0,t.jsx)("span",{className:"text-xs text-emerald-600 font-medium",children:"+15.2%"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground ml-1",children:"vs last month"})]})]})]}),(0,t.jsxs)(K,{className:"glass-panel card-transition",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Transactions"}),(0,t.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"45,892"}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 text-emerald-600 mr-1"}),(0,t.jsx)("span",{className:"text-xs text-emerald-600 font-medium",children:"+8.7%"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground ml-1",children:"vs last month"})]})]})]}),(0,t.jsxs)(K,{className:"glass-panel card-transition",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Active Stores"}),(0,t.jsx)(_.Z,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"1,234"}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 text-emerald-600 mr-1"}),(0,t.jsx)("span",{className:"text-xs text-emerald-600 font-medium",children:"+23"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground ml-1",children:"new this month"})]})]})]}),(0,t.jsxs)(K,{className:"glass-panel card-transition",children:[(0,t.jsx)(L,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(V,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Avg Basket Size"}),(0,t.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"2.8"}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)(u.Z,{className:"h-3 w-3 text-emerald-600 mr-1"}),(0,t.jsx)("span",{className:"text-xs text-emerald-600 font-medium",children:"+0.3"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground ml-1",children:"items per transaction"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(K,{className:"glass-panel lg:col-span-2",children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(q,{children:"Revenue Trend"}),(0,t.jsx)(V,{children:"Monthly revenue performance"})]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",children:["View Details",(0,t.jsx)(eB.Z,{className:"h-4 w-4 ml-1"})]})]})}),(0,t.jsx)(E,{children:(0,t.jsx)(es.h,{width:"100%",height:300,children:(0,t.jsxs)(ea.w,{data:[{month:"Jan",revenue:12e4},{month:"Feb",revenue:135e3},{month:"Mar",revenue:145e3},{month:"Apr",revenue:138e3},{month:"May",revenue:155e3},{month:"Jun",revenue:168e3}],children:[(0,t.jsx)(et.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(el.K,{dataKey:"month"}),(0,t.jsx)(er.B,{}),(0,t.jsx)(en.u,{formatter:e=>"₱".concat(e.toLocaleString())}),(0,t.jsx)(ec.x,{type:"monotone",dataKey:"revenue",stroke:"#0ea5e9",strokeWidth:3,dot:{fill:"#0284c7",r:4},activeDot:{r:6}})]})})})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(q,{children:"Category Mix"}),(0,t.jsx)(V,{children:"Product category distribution"})]}),(0,t.jsxs)(E,{children:[(0,t.jsx)(es.h,{width:"100%",height:300,children:(0,t.jsxs)(eH.u,{children:[(0,t.jsx)(eW.b,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:a.map((e,s)=>(0,t.jsx)(e$.b,{fill:sl[s%sl.length]},"cell-".concat(s)))}),(0,t.jsx)(en.u,{})]})}),(0,t.jsx)("div",{className:"mt-4 space-y-2",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:sl[s%sl.length]}}),(0,t.jsx)("span",{className:"text-muted-foreground",children:e.name})]}),(0,t.jsxs)("span",{className:"font-medium",children:[e.value,"%"]})]},e.name))})]})]})]}),(0,t.jsxs)(K,{className:"glass-panel",children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(q,{children:"Regional Performance"}),(0,t.jsx)(V,{children:"Transaction volume and revenue by region"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h,{variant:"outline",children:"Live Data"}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",children:["View Map",(0,t.jsx)(_.Z,{className:"h-4 w-4 ml-1"})]})]})]})}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"space-y-4",children:l.map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:e.region}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["₱",(e.revenue/1e6).toFixed(2),"M"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"h-8 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-azure-blue to-azure-blueDark transition-all duration-500",style:{width:"".concat(e.transactions/l[0].transactions*100,"%")}})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs font-medium",children:[e.transactions.toLocaleString()," transactions"]})})]})]},e.region))})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(K,{className:"glass-panel hover:shadow-elevation-2 transition-all cursor-pointer",children:(0,t.jsxs)(L,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-br from-azure-blue/20 to-azure-blueDark/20 rounded-lg",children:(0,t.jsx)(u.Z,{className:"h-6 w-6 text-azure-blue"})}),(0,t.jsx)(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-800",children:"+12%"})]}),(0,t.jsx)(q,{className:"text-lg",children:"Transaction Trends"}),(0,t.jsx)(V,{children:"15,842 transactions today"})]})}),(0,t.jsx)(K,{className:"glass-panel hover:shadow-elevation-2 transition-all cursor-pointer",children:(0,t.jsxs)(L,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-emerald-600/20 rounded-lg",children:(0,t.jsx)(j.Z,{className:"h-6 w-6 text-emerald-600"})}),(0,t.jsx)(h,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"78 SKUs"})]}),(0,t.jsx)(q,{className:"text-lg",children:"Product Mix"}),(0,t.jsx)(V,{children:"Top: Beverages (35%)"})]})}),(0,t.jsx)(K,{className:"glass-panel hover:shadow-elevation-2 transition-all cursor-pointer",children:(0,t.jsxs)(L,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-lg",children:(0,t.jsx)(g.Z,{className:"h-6 w-6 text-purple-600"})}),(0,t.jsx)(h,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:"New"})]}),(0,t.jsx)(q,{className:"text-lg",children:"Consumer Behavior"}),(0,t.jsx)(V,{children:"68% branded requests"})]})}),(0,t.jsx)(K,{className:"glass-panel hover:shadow-elevation-2 transition-all cursor-pointer",children:(0,t.jsxs)(L,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-br from-orange-500/20 to-orange-600/20 rounded-lg",children:(0,t.jsx)(v.Z,{className:"h-6 w-6 text-orange-600"})}),(0,t.jsx)(h,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"Active"})]}),(0,t.jsx)(q,{className:"text-lg",children:"Consumer Profiling"}),(0,t.jsx)(V,{children:"3 new segments identified"})]})})]})]})}function sn(){let[e,s]=(0,l.useState)("home"),[a,r]=(0,l.useState)({dateRange:{startDate:new Date(Date.now()-6048e5).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]},location:"all",category:"all",brand:"all",priceRange:{min:0,max:1e3},customerSegment:"all"}),[n,i]=(0,l.useState)(!1);return(0,t.jsxs)("div",{className:"h-screen flex bg-background",children:[(0,t.jsx)(k,{currentModule:e,onModuleChange:s,className:"w-64 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(T,{}),(0,t.jsx)(I,{filters:a,onFilterChange:r}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(()=>{switch(e){case"home":default:return(0,t.jsx)(sr,{filters:a});case"transaction-trends":return(0,t.jsx)(eC,{filters:a});case"product-mix":return(0,t.jsx)(eM,{filters:a});case"consumer-behavior":return(0,t.jsx)(e1,{filters:a});case"consumer-profiling":return(0,t.jsx)(st,{filters:a})}})()})]}),(0,t.jsx)(ee,{isOpen:n,onClose:()=>i(!1),context:{filters:a,activeModule:e}}),!n&&(0,t.jsx)("button",{onClick:()=>i(!0),className:"fixed bottom-6 right-6 p-4 bg-primary text-primary-foreground rounded-full shadow-lg hover:shadow-xl transition-all",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})]})}function si(){return(0,t.jsx)(sn,{})}}},function(e){e.O(0,[721,908,971,117,744],function(){return e(e.s=73361)}),_N_E=e.O()}]);